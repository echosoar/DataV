!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=a(7),c=a(8),u=n(c),p=a(3),f=a(1),d=/\$\{\s*([a-zA-Z][\_a-zA-Z0-9\.]*)\s*\}/g;a(2);var h=null;try{window.datavGlobalData=window.datavGlobalData.replace(/_DATAV_SIG_Y_/g,"'"),window.datavGlobalData=window.datavGlobalData.replace(/_DataVSlashFormat_/g,"\\"),h=JSON.parse(window.datavGlobalData)}catch(v){}var m=function(t){function e(a){r(this,e);var n=o(this,t.call(this,a));return n.state={pagesData:h,datavGlobalData:{},siteDisplay:{},isUsePreView:!0,needLoadModule:{},timeoutReRender:null},n}return i(e,t),e.prototype.componentDidMount=function(){var t=this,e=this.state.needLoadModule,a=Object.keys(e),n={};a.map(function(t){window.datavModule[t]||(n[t]=e[t])}),n&&(this.state.timeoutReRender=setTimeout(function(){t.setState({needLoadModule:n})},500))},e.prototype.isType=function(t,e){return{}.toString.call(t).slice(8,-1).toLowerCase()==e.toLowerCase()},e.prototype.transformGlobalVar=function(t,e){if(!t||!t.length||!e)return null;var a=t.shift(),n=e[a];return t.length?this.transformGlobalVar(t,n):n},e.prototype.displayRenderCheck=function(t){var e=this;if(null==t||!t)return!1;var a=t.split(","),n=!a;return a.map(function(t){var a=/!/.test(t);t=t.replace(/[!\s]/g,"");var r="";r=d.test(t)?t.replace(d,function(t,a){var n=e.transformGlobalVar(a.split("."),e.state.datavGlobalData);return null!=n?n:""}):e.state.siteDisplay[t],"false"==r&&(r=!1),a&&(r=!r),r||(n=!0)}),!!n},e.prototype.transformGlobalData=function(t){var e=this;if(this.isType(t,"array"))return t.map(function(t){return e.transformGlobalData(t)});if(!this.isType(t,"object"))return this.isType(t,"string")?(d.test(t)&&(t=t.replace(d,function(t,a){var n=e.transformGlobalVar(a.split("."),e.state.datavGlobalData);return null!=n?n:t})),t):t;var a=function(){var a={};return Object.keys(t).map(function(n){a[n]=e.transformGlobalData(t[n])}),{v:a}}();return"object"===("undefined"==typeof a?"undefined":s(a))?a.v:void 0},e.prototype.renderModule=function(t,e){var a=t.hashName,n=!0;if(window.datavModule||(window.datavModule={}),window.datavModule[a]||window.datavModule[a+"_element"])return t.props.siteDisplay=this.state.siteDisplay,t.props.siteDisplayChange=this.siteDisplayChange.bind(this),t.props.isDataVPreView=this.state.isUsePreView,t.props.changeProps=this.changeModuleProps.bind(this,e,t),t.props.changeGlobalData=this.changeGlobalData.bind(this),React.createElement(window.datavModule[a],this.transformGlobalData.call(this,t.props));n=!1;var r=document.createElement("script");return r.setAttribute("src",t.scriptAddr),document.head.appendChild(r),window.datavModule[a+"_element"]=r,this.state.needLoadModule[a]=e,""},e.prototype.changePagesData=function(t){var e=t.type,a=f(this.state);switch(e){case"MODULE_PROPS_CHANGE":if("0"==t.path)a.pagesData=t.data;else{var n=t.path.split("-");n.shift(),a.pagesData.template=(0,p.fun_changeData)(a.pagesData.template,n,t.data)}break;case"CHANGE_GLOBAL_DATA":a.datavGlobalData[t.name]||(a.datavGlobalData[t.name]={}),t.data&&Object.keys(t.data).map(function(e){a.datavGlobalData[t.name][e]=t.data[e]});break;case"SITE_DISPLAY_CHANGE":null==a.siteDisplay&&(a.siteDisplay={}),t.data&&t.data.map(function(t){a.siteDisplay[t.name]=t.value});break;default:return}this.setState(a)},e.prototype.siteDisplayChange=function(t){this.changePagesData.call(this,{type:"SITE_DISPLAY_CHANGE",data:t})},e.prototype.changeGlobalData=function(t,e,a){var n=a;if(!a){var r=t&&t.value&&t.value.split("/")||[],o="";if(r.length>0){for(;o=r.pop();){n=o;break}n=n.replace(/[^a-z]/gi,"_")}}n||(n="default"),this.changePagesData.call({type:"CHANGE_GLOBAL_DATA",name:n,data:e})},e.prototype.changeModuleProps=function(t,e,a){var n=f(e);n.props=a,this.changePagesData.call(this,{type:"MODULE_PROPS_CHANGE",path:t,data:n})},e.prototype.renderComponent=function(t,e,a){var n,r=this;if(!t)return null;var o=Object.assign({},t),i=o.childs||[],s=o.component,l=o.props,c=o.template,u=o.display;if(this.displayRenderCheck.call(this,u))return"";return c?(s=c.component,l=c.props,u=c.display,this.displayRenderCheck.call(this,u)?"":(this.state.isUsePreView&&l.className.indexOf("datavEditPreviewOpen")==-1&&(l.className+=" datavEditPreviewOpen"),i=c.childs&&c.childs.map(function(a,n){return r.renderComponent.call(r,a,e+"-"+n,t)})||[],l["data-path"]=e,(n=React).createElement.apply(n,[s,this.transformGlobalData.call(this,l)].concat(i)))):this.renderModule.call(this,t,e)},e.prototype.render=function(){var t=this.state.pagesData;return React.createElement("div",{className:"datav-container"},!t&&React.createElement("div",{className:"datav-noData"},React.createElement("div",{className:"datav-noData-top"},":("),React.createElement("div",{className:"datav-noData-content"},"Thanks for using"),React.createElement("div",{className:"datav-noData-content"},"DataV Page Data Error.")),t&&this.renderComponent.call(this,t,"0"))},e}(l.Component);u["default"].render(React.createElement(m,null),document.getElementById("datav-container"))},function(t,e){function a(t){return r(t)?i(t):o(t)?t:n(t)?s(t):t}function n(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Function}function i(t){var e=t.map(function(t){return a(t)});return e}function s(t,e,a){if(!t)return t;if(t.clone&&o(t.clone))return t.clone();if(t instanceof Date)return new Date(t.getTime());e=e||[],a=a||[];var n=Object.create(t),r=Object.getOwnPropertyNames(t);return r.forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);o.value=l(o.value,t,n,e,a),Object.defineProperty(n,r,o)}),n}function l(t,e,r,o,i){if(!n(t))return a(t);if(t.clone){var r=t.clone();return r&&t.constructor.prototype.isPrototypeOf(a.constructor.prototype)?r:c(t,e,r,o,i)}return c(t,e,r,o,i)}function c(t,e,a,n,r){var o=n.indexOf(t);return o!==-1?r[o]:(n.push(e),r.push(a),s(t,n,r))}t.exports=a},function(t,e,a){var n=a(5);"string"==typeof n&&(n=[[t.id,n,""]]);a(4)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,a){"use strict";var n=(a(1),function r(t,e,a){if(0==e.length)return a;if(1==e.length){var n=e.shift();return t.childs[n]=a,t}var o=e.shift(),i=Object.assign({},t.childs[o].template);return t.childs[o].template=r(i,e,a),t});t.exports={fun_changeData:n}},function(t,e,a){function n(t,e){for(var a=0;a<t.length;a++){var n=t[a],r=d[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(c(n.parts[o],e))}else{for(var i=[],o=0;o<n.parts.length;o++)i.push(c(n.parts[o],e));d[n.id]={id:n.id,refs:1,parts:i}}}}function r(t){for(var e=[],a={},n=0;n<t.length;n++){var r=t[n],o=r[0],i=r[1],s=r[2],l=r[3],c={css:i,media:s,sourceMap:l};a[o]?a[o].parts.push(c):e.push(a[o]={id:o,parts:[c]})}return e}function o(t,e){var a=m(),n=g[g.length-1];if("top"===t.insertAt)n?n.nextSibling?a.insertBefore(e,n.nextSibling):a.appendChild(e):a.insertBefore(e,a.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(e)}}function i(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function c(t,e){var a,n,r;if(e.singleton){var o=b++;a=y||(y=s(e)),n=u.bind(null,a,o,!1),r=u.bind(null,a,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=l(e),n=f.bind(null,a),r=function(){i(a),a.href&&URL.revokeObjectURL(a.href)}):(a=s(e),n=p.bind(null,a),r=function(){i(a)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function u(t,e,a,n){var r=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=D(e,r);else{var o=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function p(t,e){var a=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}function f(t,e){var a=e.css,n=e.sourceMap;n&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([a],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=h(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,b=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var a=r(t);return n(a,e),function(t){for(var o=[],i=0;i<a.length;i++){var s=a[i],l=d[s.id];l.refs--,o.push(l)}if(t){var c=r(t);n(c,e)}for(var i=0;i<o.length;i++){var l=o[i];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete d[l.id]}}}};var D=function(){var t=[];return function(e,a){return t[e]=a,t.filter(Boolean).join("\n")}}()},function(t,e,a){e=t.exports=a(6)(),e.push([t.id,"body{margin:0;background:#efefef!important;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1}.datav-container{position:relative;width:960px;min-height:100%;margin:0 auto;background:#fff}.datav-container .datav-noData{position:absolute;top:50%;width:360px;left:300px;-webkit-transform:translateY(-50%);transform:translateY(-50%);text-shadow:1px 1px 3px #333}.datav-container .datav-noData .datav-noData-top{font-weight:700;font-size:32px;color:#fff;margin-bottom:40px}.datav-container .datav-noData .datav-noData-content{font-weight:700;height:20px;line-height:20px;font-size:14px;color:#fff}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var a=this[e];a[2]?t.push("@media "+a[2]+"{"+a[1]+"}"):t.push(a[1])}return t.join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),t.push(i))}},t}},function(t,e){t.exports=React},function(t,e){t.exports=ReactDOM}]);